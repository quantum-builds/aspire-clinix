generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       String @id @default(cuid())
  email    String @unique
  password String
  role     String
}

model Patient {
  id       String @id @default(cuid())
  email    String @unique
  password String
}

model Dentist {
  id       String @id @default(cuid())
  email    String @unique
  password String
}

model ReferralForm {
  id                    String   @id @default(cuid())
  medicalHistory        String?
  createdAt             DateTime @default(now())
  referralDetails       String[]
  treatmentDetails      String?
  DOB                   String
  address               String
  email                 String
  mobileNumber          String  
  name                  String
  other                 String?
  referralAddress       String
  referralEmail         String
  referralGDC           String
  referralMobileNumber  String
  referralName          String
  treatMeantAppointment String

  @@unique([email, referralEmail])
}

model Appointment {
  id                String   @id @default(cuid())
  dentistId         String
  appointmentDate   DateTime
  appointmentStatus String
  patientId         String
}

model Treatment {
  id          String  @id @default(cuid())
  name        String  @unique
  description String
  cost        Decimal @db.Decimal(10, 2)
}

model PatientTreatment {
  id              String   @id @default(cuid())
  dentistId       String
  patientId       String
  treatmentId     String
  treatmentDate   DateTime
  treatmentStatus String
}
